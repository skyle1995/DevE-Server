# Page 模块

## 简介

`Page` 模块负责处理与页面相关的功能，主要提供菜单数据的获取服务。该模块根据用户角色返回不同的菜单数据，为前端应用提供动态菜单渲染的数据支持。

## 功能特点

- 根据用户角色（管理员、普通会员、VIP会员）返回不同的菜单数据
- 使用嵌入式文件系统（embed.FS）存储菜单JSON数据
- 提供RESTful API接口，支持前端动态获取菜单

## 模块结构

```
page/
├── data/                  # 菜单数据目录
│   ├── data.go            # 嵌入式文件系统定义
│   ├── menu-admin.json    # 管理员菜单数据
│   └── menu-user.json     # 普通用户菜单数据
├── model/                 # 模型目录
│   └── response.go        # 响应模型定义
├── controller.go          # 控制器实现
├── router.go              # 路由注册
├── service.go             # 服务层实现
└── README.md              # 模块说明文档
```

## API 接口

### 获取菜单数据

- **URL**: `/api/v1/menu`
- **方法**: GET
- **认证**: 需要JWT令牌
- **描述**: 根据用户角色返回对应的菜单数据
- **响应示例**:

```json
{
  "code": 200,
  "data": {
    "menu": [...] // 菜单JSON数据
  },
  "message": "操作成功"
}
```

## 使用说明

1. 用户登录后获取JWT令牌
2. 前端应用使用JWT令牌访问 `/api/v1/menu` 接口
3. 接口根据用户角色返回对应的菜单数据
4. 前端根据返回的菜单数据动态渲染导航菜单

## 角色与菜单对应关系

- **管理员** (角色值为0): 返回 `menu-admin.json` 中的菜单数据，包含系统管理等管理员特有功能
- **普通会员** (角色值为1): 返回 `menu-user.json` 中的菜单数据
- **VIP会员** (角色值为2): 返回 `menu-user.json` 中的菜单数据

## 开发与扩展

如需修改或扩展菜单数据，只需更新 `data` 目录下的JSON文件即可，无需修改代码逻辑。如需添加新的菜单类型，可以在 `data` 目录下添加新的JSON文件，并在 `service.go` 中添加相应的逻辑。